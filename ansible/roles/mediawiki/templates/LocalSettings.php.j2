<?php
# This file was automatically generated by the MediaWiki 1.30.0
# installer. If you make manual changes, please keep track in case you
# need to recreate them later.
#
# See includes/DefaultSettings.php for all configurable settings
# and their default values, but don't forget to make changes in _this_
# file, not there.
#
# Further documentation for configuration settings may be found at:
# https://www.mediawiki.org/wiki/Manual:Configuration_settings

# Protect against web entry
if ( !defined( 'MEDIAWIKI' ) ) {
	exit;
}

## Uncomment this to disable output compression
# $wgDisableOutputCompression = true;

$wgSitename = "ComicWiki";
$wgMetaNamespace = "ComicWiki";

## The URL base path to the directory containing the wiki;
## defaults for all runtime URL paths are based off of this.
## For more information on customizing the URLs
## (like /w/index.php/Page_title to /wiki/Page_title) please see:
## https://www.mediawiki.org/wiki/Manual:Short_URL
$wgScriptPath = "";
$wgArticlePath = "/wiki/$1";

## The protocol and server name to use in fully-qualified URLs
$wgCanonicalServer = 'https://comicwiki.dk';
$wgServer = "//comicwiki.dk";

## The URL path to static resources (images, scripts, etc.)
$wgResourceBasePath = $wgScriptPath;

## The URL path to the logo.  Make sure you change this from the default,
## or else you'll overwrite your logo when you upgrade!
# $wgLogo = "/vagrant_data/comicwiki/logo.png";
$wgLogo = "$wgResourceBasePath/resources/assets/logo.png";

## UPO means: this is also a user preference option

$wgEnableEmail = true;
$wgEnableUserEmail = true;
$wgEmailConfirmToEdit = true;

$wgEmergencyContact = "ingen-svar@comicwiki.dk";
$wgPasswordSender = "ingen-svar@comicwiki.dk";

$wgSMTP = array(
    'host'     => "localhost",        // could also be an IP address. Where the SMTP server is located
    'IDHost'   => "comicwiki.dk",     // Generally this will be the domain name of your website (aka mywiki.org)
    'port'     => 25,                 // Port to use when connecting to the SMTP server
);

$wgEnotifUserTalk = true;
$wgEnotifWatchlist = true;
$wgEmailAuthentication = true;

## Database settings
$wgDBtype = "mysql";
$wgDBserver = "localhost";
$wgDBname = "{{ db_name }}";
$wgDBuser = "{{ db_user }}";
$wgDBpassword = "{{ db_password }}";

# MySQL specific settings
$wgDBprefix = "mw_";

# MySQL table options to use during installation or update
$wgDBTableOptions = "ENGINE=InnoDB";

## Shared memory settings
$wgMainCacheType = CACHE_NONE;

# NewPP limit report should not be in the output!
$wgEnableParserLimitReporting = false;

## To enable image uploads, make sure the 'images' directory
## is writable, then set this to true:
$wgEnableUploads = true;
$wgUseImageMagick = true;
$wgImageMagickConvertCommand = "/usr/bin/convert";

# Custom things
$wgShowEXIF = false;

# Enable subpages in the main namespace
$wgNamespacesWithSubpages[NS_MAIN] = true;

$wgLocaltimezone = "Europe/Copenhagen";
$wgLocalTZoffset = "2";  # +2:00

# InstantCommons allows wiki to use images from https://commons.wikimedia.org
$wgUseInstantCommons = false;

# Periodically send a pingback to https://www.mediawiki.org/ with basic data
# about this MediaWiki instance. The Wikimedia Foundation shares this data
# with MediaWiki developers to help guide future development efforts.
$wgPingback = true;

## If you use ImageMagick (or any other shell command) on a
## Linux server, this will need to be set to the name of an
## available UTF-8 locale
$wgShellLocale = "en_US.UTF-8";

## Set $wgCacheDirectory to a writable directory on the web server
## to make your wiki go slightly faster. The directory should not
## be publically accessible from the web.
#$wgCacheDirectory = "$IP/cache";

# Site language code, should be one of the list in ./languages/data/Names.php
$wgLanguageCode = "da";

$wgSecretKey = "{{ secret_key }}";

# Changing this will log out all existing sessions.
$wgAuthenticationTokenVersion = "1";

# Site upgrade key. Must be set to a string (default provided) to turn on the
# web installer while LocalSettings.php is in place
$wgUpgradeKey = "{{ upgrade_key }}";

## For attaching licensing metadata to pages, and displaying an
## appropriate copyright notice / icon. GNU Free Documentation
## License and Creative Commons licenses are supported so far.
$wgRightsPage = "Comicwiki:Copyright";
$wgRightsUrl = "https://creativecommons.org/licenses/by-sa/4.0/";
$wgRightsText = "Creative Commons Attribution-ShareAlike";
$wgRightsIcon = "$wgResourceBasePath/resources/assets/licenses/cc-by-sa.png";

# Different auxiliary settings
$wgEnableMagicLinks['ISBN'] = true;

# Path to the GNU diff3 utility. Used for conflict resolution.
$wgDiff3 = "/usr/bin/diff3";

# The following permissions were set based on your choice in the installer
$wgGroupPermissions['*']['edit'] = false;

## Default skin: you can change the default skin. Use the internal symbolic
## names, ie 'vector', 'monobook':
$wgDefaultSkin = "chameleon";
$egChameleonThemeFile = __DIR__ . '/resources/comicwiki/comicwiki.scss';

$egChameleonAvailableLayoutFiles = [
    'standard'   => __DIR__ . '/skins/chameleon/layouts/standard.xml',
    'navhead'    => __DIR__ . '/resources/comicwiki/layouts/comicwiki-header.xml',
    'fixedhead'  => __DIR__ . '/resources/comicwiki/layouts/fixedhead.xml',
    'stickyhead' => __DIR__ . '/skins/chameleon/layouts/stickyhead.xml',
    'clean'      => __DIR__ . '/skins/chameleon/layouts/clean.xml',
];

$egChameleonExternalLessVariables = [
        'font-size-base' => '12px',
        'font-size-large' => '16px',
        'font-size-small' => '10px',
        'font-size-h1' => '22px',
        'font-size-h2' => '24px',
        'font-size-h3' => '26px',
        'line-height-base' => '1.5', /* 24 : 16 = */
        'navbar-height' => '80px',
        'navbar-margin-bottom' => '10px',
        'navbar-default-bg' => 'rgba( 94, 157, 200, 1 )',
        'navbar-default-border' => 'rgba( 94, 157, 200, 1 )',
        'nav-tabs-active-link-hover-color' => 'rgba( 255, 255, 255, 1 )',
];

# End of automatically generated settings.
# Add more configuration options below.

wfLoadExtension( 'ParserFunctions' );
wfLoadExtension( 'ImageMap' );
wfLoadExtension( 'Cite' );
wfLoadExtensions([ 'ConfirmEdit', 'ConfirmEdit/QuestyCaptcha' ]);
wfLoadExtension( 'InputBox' );
wfLoadExtension( 'CookieWarning' );
wfLoadExtension( 'WikiEditor' );
wfLoadExtension( 'SpamBlacklist' );

$wgCookieWarningEnabled = true;
$wgCookieWarningMoreUrl = "/wiki/ComicWiki:Cookies";

$wgCaptchaQuestions[] = array( 'question' => "Hvad hedder denne wiki? (Husk udr&aring;bstegn!)", 'answer' => "$wgSitename!" );
$wgCaptchaQuestions[] = array( 'question' => "Er du et menneske? Ja eller nej...", 'answer' => array( 'ja', 'Ja', 'JA' ) );
